const common = new function () {
    this.HTTP    = "http://";
    this.DOMAIN = "qdzhcs.wjrcb.com";
    this.BANKURL = this.HTTP + this.DOMAIN + "/pweb/";

    this.Plugins = {
        iSecurity: {
            name: "密码控件",
            mimeType: "application/x-vnd-sa-isecurity-wjrcb",
            description: "SA-iSecurity Plug-in for WJRCB"
        },
        iSign: {
            name: "签名控件",
            mimeType: "application/x-vnd-sa-isign-wjrcb",
            description: "SA-iSign for WJRCB"
        },
        CryptoKit: {
            name: "证书下载控件",
            mimeType: "application/npcryptokit.certenrollment.pro.x86",
            description: "npCryptoKit.CertEnrollment.Pro"
        }
    };

    this.Drivers = {
        FT_01: {
            name: "飞天一代USB KEY驱动",
            csp: "EnterSafe ePass2000Auto LE CSP For WJRCB V1.0"
        },
        FT_02: {
            name: "飞天二代USB KEY驱动",
            csp: "EnterSafe InterPass3000 CSP v1.0 for WJRCB"
        },
        HT_02: {
            name: "海泰二代USB KEY驱动",
            csp: "HaiTai CSP For WuJiang RC Bank"
        }
    };

    this.LoginParams = {
        _local: "zh_CN",
        BankID: 9999,
        LoginType: "G",
        UserID: "",
        Password: "",
        PasswordDegree: "",
        MachineCode: "",
        _vTokenName: "",
        SYSTEMVERSION: "",
        BROWSERVERSION: ""
    };

    this.CertDownParams = {
        _local: "zh_CN",
        BankID: 9999,
        LoginType: "G",
        certDwonCode: "",
        p10: ""
    };

    this.CheckNameParams = {
        _local: "zh_CN",
        BankID: 9999,
        LoginType: "G",
        certDwonCode: "",
        _vTokenName: "",
        UserID: ""
    };

    this.RegisterParams = {};

    this.Minimize = function () {
        app.jsInvokeMinimize();
    };

    this.Close = function () {
        app.jsInvokeClose();
    };

    this.getSystemVersion = function () {
        function detectOS() {
            var userAgent = navigator.userAgent;

            if ((navigator.platform === "Win32") || (navigator.platform === "Windows")) {
                if (userAgent.indexOf("Windows NT 5.0") > -1 || userAgent.indexOf("Windows 2000") > -1) {
                    return 'Windows 2000'
                } else if (userAgent.indexOf("Windows NT 5.1") > -1) {
                    return 'Windows XP'
                } else if (userAgent.indexOf("Windows NT 5.2") > -1) {
                    return 'Windows 2003'
                } else if (userAgent.indexOf("Windows NT 6.0") > -1) {
                    return 'Windows Vista'
                } else if (userAgent.indexOf("Windows NT 6.1") > -1) {
                    return 'Windows 7'
                } else if (userAgent.indexOf("Windows NT 6.2") > -1) {
                    return 'Windows 8'
                } else if (userAgent.indexOf("Windows NT 6.3") > -1) {
                    return 'Windows 8.1'
                } else if (userAgent.indexOf("Windows NT 10.0") > -1) {
                    return 'Windows 10'
                }
            } else {
                return 'other';
            }
        }
    };

    $(document)
        .ready(function () {
            $.ajaxSetup({
                type: 'POST',
                accepts: {
                    json: 'application/json',
                    text: 'text/plain'
                },
                crossDomain: true,
                contentType: 'application/json'
            });

            toastr.options = {
                timeOut: "2000",
                progressBar: true,
                newestOnTop: true,
                preventDuplicates: true,
                positionClass: "toast-top-full-width"
            };
        })
        .ajaxStart(function (event) {
        })
        .ajaxSend(function () {
        })
        .ajaxStop(function () {
        })
        .ajaxComplete(function () {
        })
        .ajaxError(function () {
            toastr.error("网络异常，请稍后重试！");
        })
        .ajaxSuccess(function () {
        });
};